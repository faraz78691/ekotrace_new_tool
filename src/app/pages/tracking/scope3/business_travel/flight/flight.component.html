<div class="row text-white ">
      <div class="d-flex align-items-center justify-content-between w-100 border-bottom">
            <p class="mb-2 mt-3 ml-4 text-dark ct_fw_600">
                  Flight
            <div class="ct_how_use_tooltip_main">
                  <i class="fa-solid fa-circle-question" (click)="isHowtoUse = !isHowtoUse"></i>
                  <div class="ct_how_use_tooltip_cnt" [ngClass]="isHowtoUse ? 'ct_active' : ''">
                        <div>
                              <h5 class="mb-2 ct_fs_16">Business Travel

                              </h5>
                              <p>Emissions from the transportation of employees for business-related
                                    activities. This includes travel by air, rail, bus, car, and other
                                    modes of transportation.
                              </p>
                              <h5 class="mb-2 ct_fs_16">To collect emissions data for business travel
                                    used by the company, follow these steps:
                              </h5>
                              <ol>
                                    <li>Identify Travel Modes - List all modes of travel used by
                                          employees (e.g., air travel, train, car, bus).

                                    </li>
                                    <li>Travel Data - Collect detailed information on all business
                                          trips. This includes travel date, destinations, distances
                                          travelled, travel class (e.g., economy, business for flights),
                                          type of vehicle (for car travel)

                                    </li>
                                    <li>Collect Fuel Consumption Data - Obtain fuel consumption details
                                          for company-owned or rented vehicles.
                                    </li>
                                    <li>For personal vehicles used for business travel, gather mileage
                                          reimbursement records.
                                    </li>

                              </ol>

                              <h5 class="ct_fs_16 mb-0">How to use the tool for entering data
                                    emissions

                              </h5>
                              <ol>
                                    <li>Select the months and year for which you want to enter the
                                          travel data. If you select multiple months, same data will be
                                          replicated for the months selected

                                    </li>
                                    <li>Select the business travel type such as via flight or other ways
                                          of transport and/or hotel stay.

                                    </li>
                                    <li>
                                          Flight travel – There are three ways of entering flight travel
                                          data; Generic type – select the flight type based on travel
                                          time, To/Fro – this allows user to enter the take-off and
                                          landing ports and is the most accurate method, Distance – when
                                          the flight air distance is available

                                    </li>

                              </ol>

                        </div>
                  </div>
            </div>
      </div>
</div>
<form #dataEntryForm="ngForm" (ngSubmit)="EntrySave(dataEntryForm)">

      <div class="trackingFooter">

            <div class="row my-3">
                  <div class="col-md-4">
                        <div class="mb-4 d-flex align-items-center" style="gap: 10px;">
                              <label class=" ct_text_wrape">Flight calc mode</label>
                              <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230" ngModel
                                    [options]="flightsTravelTypes" optionLabel="flightType" optionValue="flightType"
                                    name="flightMode" #flightMode="ngModel" (onChange)="onFlightModeChange($event)">
                              </p-dropdown>
                        </div>
                  </div>
            </div>
            <div class="col-md-12 mt-3" style="height: 47vh;">
                  <div class=" table-responsive" [ngStyle]="{'display': flightDisplay1}">
                        <table class="table ct_home_office_table ett_verticle_align_top" style="height:357px">
                              <thead class="thead-dark">
                                    <tr>
                                          <th scope="col">S.No.</th>
                                          <th scope="col">Flight Type</th>
                                          <th scope="col">Flight Class</th>
                                          <th scope="col">Return Flight</th>
                                          <th scope="col">No. of Trips</th>
                                          <th scope="col">Month</th>
                                          <th scope="col">Cost Centre</th>

                                    </tr>
                              </thead>
                              <tbody #commuteTable>
                                    <tr *ngFor="let row of rowsFlightTravel">
                                          <td scope="row">{{ row.id }}</td>


                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [(ngModel)]="row.flightType" [ngModelOptions]="{standalone: true}"
                                                      [options]="flightTypeGrid" optionLabel="flight_type"
                                                      optionValue="flight_type" placeholder="Select type"
                                                      appendTo="body">
                                                </p-dropdown>
                                          </td>
                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [(ngModel)]="row.flightClass"
                                                      [ngModelOptions]="{standalone: true}" [options]="flightClassGrid"
                                                      optionLabel="classs" optionValue="classs"
                                                      placeholder="Select class" appendTo="body">
                                                </p-dropdown>
                                          </td>
                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [(ngModel)]="row.return_flight"
                                                      [ngModelOptions]="{standalone: true}" [options]="annualEntry"
                                                      (onChange)="onProductStandardChange($event , row)"
                                                      optionLabel="name" optionValue="name" placeholder="Select return"
                                                      appendTo="body">
                                                </p-dropdown>
                                          </td>

                                          <td>
                                                <input type="number" class="form-control" style="height:38px"
                                                      placeholder="Enter no of trips" [(ngModel)]="row.noOfTrips"
                                                      [ngModelOptions]="{standalone: true}">
                                          </td>
                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [options]="row.month" optionLabel="name"
                                                      [(ngModel)]="row.selectedMonths"
                                                      [ngModelOptions]="{standalone: true}" optionValue="value"
                                                      appendTo="body">
                                                </p-dropdown>

                                          </td>
                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [options]="busineessGrid" optionLabel="cost_center_name"
                                                      [(ngModel)]="row.costCentre" [ngModelOptions]="{standalone: true}"
                                                      optionValue="cost_centre_name" appendTo="body">
                                                </p-dropdown>

                                          </td>



                                    </tr>


                              </tbody>
                              <span class="ml-2 trackingsubmitb d-inline-block mt-3 et_plusadd_455"
                                    (click)="addrowsFlightTravel()">+</span>
                        </table>
                  </div>
                  <div class=" table-responsive" [ngStyle]="{'display': flightDisplay2}">
                        <table class="table ct_home_office_table ett_verticle_align_top" style="height:400px">
                              <thead class="thead-dark">
                                    <tr>
                                          <th scope="col">S.No.</th>
                                          <th scope="col">From</th>


                                          <th scope="col">To</th>
                                          <th scope="col">Via(optional)</th>
                                          <th scope="col">Flight Class</th>

                                          <th scope="col">No of passengers</th>
                                          <th scope="col">Return Flight</th>
                                          <!-- <th scope="col">Reference Id</th> -->
                                          <th scope="col">Month</th>
                                          <th scope="col">Cost Centre</th>

                                    </tr>
                              </thead>
                              <tbody #commuteTable>
                                    <tr *ngFor="let row of rowsFlightTravel">
                                          <td scope="row">{{ row.id }}</td>


                                          <td>
                                                <p-dropdown
                                                      class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230 et_select_min_w_600_43 w-200"
                                                      ngModel [options]="airportGrid" [(ngModel)]="row.from"
                                                      [ngModelOptions]="{standalone: true}" optionLabel="airport_desc"
                                                      optionValue="airport_code" placeholder="Select from"
                                                      [filter]="true" name="classs" [virtualScroll]="true"
                                                      [virtualScrollItemSize]="38" #classs="ngModel" appendTo="body">
                                                </p-dropdown>

                                          </td>
                                          <td>
                                                <p-dropdown
                                                      class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230 et_select_min_w_600_43"
                                                      ngModel [options]="airportGrid" [(ngModel)]="row.to"
                                                      [ngModelOptions]="{standalone: true}" optionLabel="airport_desc"
                                                      optionValue="airport_code" placeholder="Select to" [filter]="true"
                                                      name="classs" [virtualScroll]="true" [virtualScrollItemSize]="38"
                                                      #classs="ngModel" appendTo="body">
                                                </p-dropdown>
                                          </td>
                                          <td>
                                                <p-dropdown
                                                      class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230 et_select_min_w_600_43"
                                                      ngModel [options]="airportGrid" [(ngModel)]="row.via"
                                                      [ngModelOptions]="{standalone: true}" optionLabel="airport_desc"
                                                      optionValue="airport_code" placeholder="Select via"
                                                      [filter]="true" name="classs" [virtualScroll]="true"
                                                      [virtualScrollItemSize]="38" #classs="ngModel" appendTo="body">
                                                </p-dropdown>
                                          </td>
                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      ngModel [options]="flightClassGrid" [(ngModel)]="row.flight_class"
                                                      [ngModelOptions]="{standalone: true}" optionLabel="classs"
                                                      optionValue="classs" name="classs" #classs="ngModel"
                                                      appendTo="body">
                                                </p-dropdown>

                                          </td>
                                          <td>
                                                <input type="text" class="form-control" style="width:200px;height:38px"
                                                      placeholder="Enter no of passengers"
                                                      [(ngModel)]="row.no_of_passengers"
                                                      [ngModelOptions]="{standalone: true}">
                                          </td>
                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [(ngModel)]="row.return_flight" name="annualEntry"
                                                      [ngModelOptions]="{standalone: true}" [options]="annualEntry"
                                                      (onChange)="onProductStandardChange($event , row)"
                                                      optionLabel="name" optionValue="name" placeholder="Select return"
                                                      appendTo="body">
                                                </p-dropdown>
                                          </td>
                                          <!-- <td>
                                                        <input type="text" class="form-control"
                                                            style="width:200px;height:38px"
                                                            placeholder="Enter Reference id"
                                                            [(ngModel)]="row.reference_id">
                                                    </td> -->



                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [options]="row.month" optionLabel="name" optionValue="value"
                                                      [(ngModel)]="row.selectedMonths"
                                                      [ngModelOptions]="{standalone: true}" appendTo="body">
                                                </p-dropdown>

                                          </td>
                                          <td>
                                                <p-dropdown class="ct_select_op_input ct_flex_1 ct_chev_icon_dark230"
                                                      [options]="busineessGrid" optionLabel="cost_center_name"
                                                      [(ngModel)]="row.costCentre" [ngModelOptions]="{standalone: true}"
                                                      optionValue="cost_centre_name" appendTo="body">
                                                </p-dropdown>

                                          </td>




                                    </tr>


                              </tbody>
                              <span class="ml-2 trackingsubmitb et_plusadd_455" (click)="addrowsFlightTravel()">+</span>
                        </table>
                  </div>
            </div>
            <div class="col-12 mt-2 d-flex gap-3 align-items-end">
                  <div class="col-4 mt-2">
                        <label for="fname ">Attachments</label>
                        <p-toast></p-toast>
                        <div class="d-flex justify-content-end border rounded ct_upload_btn1 et_btn_h_38_900">
                              <p-fileUpload #fileUpload mode="basic" accept=".jpg,.png,.pdf"
                                    chooseLabel="Please select a File"
                                    (onSelect)="onFileSelected($event.files)"></p-fileUpload>
                        </div>
                  </div>
                  <app-submit-button [isLoading]="isSubmitting" text="Submit"></app-submit-button>

            </div>
      </div>
</form>